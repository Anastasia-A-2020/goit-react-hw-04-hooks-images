{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.module.css","services/api.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","axios","defaults","baseURL","fetchImages","imageName","page","a","get","response","data","hits","Searchbar","onFormSubmit","className","s","onSubmit","e","preventDefault","target","elements","value","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","autoComplete","autoFocus","placeholder","ImageGalleryItem","imageSrc","tags","largeImageURL","onImageClick","src","alt","ImageGalleryItemImage","onClick","propTipes","PropTypes","string","isRequired","func","ImageGallery","images","map","id","webformatURL","Spiner","wrapperLoader","color","height","width","timeout","Loader","Button","onLoadButton","wrapperButton","Modal","closeModal","children","handleKeyDown","code","useEffect","window","addEventListener","removeEventListener","Overlay","currentTarget","App","useState","setImageName","setImages","setPage","reqStatus","setReqStatus","openImageUrl","setOpenImageUrl","notify","toast","error","duration","position","getImages","fetchImagesArray","length","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","fillArray","currentStatus","prevPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,cAAgB,8BAA8B,OAAS,yB,mBCAzED,EAAOC,QAAU,CAAC,cAAgB,8BAA8B,OAAS,yB,mBCAzED,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,uCCAjCD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,mJCIhPC,IAAMC,SAASC,QAFE,0BAIjB,IAOeC,EAPE,uCAAG,WAAOC,EAAWC,GAAlB,eAAAC,EAAA,sEACKN,IAAMO,IAAN,sDAC0BH,EAD1B,iBAC4CC,EAD5C,4BANN,qCAMM,YAJV,yCAGK,cACZG,EADY,yBAIXA,EAASC,KAAKC,MAJH,2CAAH,wD,uBC0BFC,EA7BG,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aACnB,OACE,8BACE,wBAAQC,UAAWC,IAAEH,UAArB,SACE,uBACEI,SAAU,SAACC,GACTA,EAAEC,iBACFL,EAAaI,EAAEE,OAAOC,SAASf,UAAUgB,QAE3CP,UAAWC,IAAEO,WALf,UAOE,wBAAQC,KAAK,SAAST,UAAWC,IAAES,iBAAnC,SACE,sBAAMV,UAAWC,IAAEU,sBAAnB,sBAGF,uBACEX,UAAWC,IAAEW,gBACbH,KAAK,OACLI,KAAK,YACLC,aAAa,MACbC,WAAS,EACTC,YAAY,qC,iCCtBlBC,EAAmB,SAAC,GAAqD,IAAnDC,EAAkD,EAAlDA,SAAUC,EAAwC,EAAxCA,KAAMC,EAAkC,EAAlCA,cAAeC,EAAmB,EAAnBA,aACzD,OACE,mCACE,oBAAIrB,UAAWC,IAAEgB,iBAAjB,SACE,qBACEK,IAAKJ,EACLK,IAAKJ,EACLnB,UAAWC,IAAEuB,sBACbC,QAAS,SAACtB,GACRkB,EAAaD,WAQVH,IAEfA,EAAiBS,UAAY,CAC3BR,SAAUS,IAAUC,OAAOC,WAC3BV,KAAMQ,IAAUC,OAAOC,WACvBT,cAAeO,IAAUC,OAAOC,WAChCR,aAAcM,IAAUG,KAAKD,Y,qBCHhBE,EAlBM,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQX,EAAmB,EAAnBA,aAC9B,OACE,mCACE,oBAAIrB,UAAWC,IAAE8B,aAAjB,SACGC,EAAOC,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,aAAchB,EAArB,EAAqBA,KAAMC,EAA3B,EAA2BA,cAA3B,OACV,cAAC,EAAD,CAEEc,GAAIA,EACJhB,SAAUiB,EACVhB,KAAMA,EACNC,cAAeA,EACfC,aAAc,kBAAMA,EAAaD,KAL5Bc,W,0CCPF,SAASE,IACtB,OACE,qBAAKpC,UAAWC,IAAEoC,cAAlB,SACE,cAAC,IAAD,CACE5B,KAAK,OACL6B,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,IACTzC,UAAWC,IAAEyC,W,qBCANC,EAVA,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aAChB,OACE,qBAAK5C,UAAWC,IAAE4C,cAAlB,SACE,wBAAQpC,KAAK,SAAST,UAAWC,IAAE0C,OAAQlB,QAAS,kBAAMmB,KAA1D,0B,iBCFS,SAASE,EAAT,GAA0C,IAAzBC,EAAwB,EAAxBA,WAAYC,EAAY,EAAZA,SACpCC,EAAgB,SAAC9C,GACN,WAAXA,EAAE+C,MACJH,KAWJ,OAPAI,qBAAU,WAER,OADAC,OAAOC,iBAAiB,UAAWJ,GAC5B,WACLG,OAAOE,oBAAoB,UAAWL,OAKxC,qBACEjD,UAAWC,IAAEsD,QACb9B,QAAS,SAACtB,GACJA,EAAEqD,gBAAkBrD,EAAEE,QACxB0C,KAJN,SAQE,qBAAK/C,UAAWC,IAAE6C,MAAlB,SAA0BE,MCmEjBS,MArFf,WACE,MAAkCC,mBAAS,MAA3C,mBAAOnE,EAAP,KAAkBoE,EAAlB,KACA,EAA4BD,mBAAS,IAArC,mBAAO1B,EAAP,KAAe4B,EAAf,KACA,EAAwBF,mBAAS,GAAjC,mBAAOlE,EAAP,KAAaqE,EAAb,KACA,EAAkCH,mBAAS,QAA3C,mBAAOI,EAAP,KAAkBC,EAAlB,KACA,EAAwCL,mBAAS,MAAjD,mBAAOM,EAAP,KAAqBC,EAArB,KAEAd,qBAAU,WACR,GAAkB,OAAd5D,EAAJ,CAIA,IAAM2E,EAAS,kBACbC,IAAMC,MAAM,yCAA0C,CACpDC,SAAU,IACVC,SAAU,gBARA,mCAoCdC,GApCc,4CAWd,4BAAA9E,EAAA,sEAEIsE,EAAa,WAFjB,SAImCzE,EAAYC,EAAWC,GAJ1D,UAMoC,KAF1BgF,EAJV,QAMyBC,OANzB,uBAOMV,EAAa,QAPnB,kBAQaG,KARb,OAWIN,GAAU,SAACc,GAAD,4BAAmBA,GAAnB,YAAiCF,OAC3CT,EAAa,WAETvE,EAAO,GACT4D,OAAOuB,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,WAjBlB,kDAqBId,IACAH,EAAa,QAtBjB,2DAXc,yBAqCb,CAACxE,EAAWC,IAEf,IAkBMyF,EAAYjD,EAAOyC,OAAS,EAC5BS,EAA8B,YAAdpB,EAEtB,OACE,gCACE,cAAC,EAAD,CAAW/D,aAvBU,SAACR,GACxBoE,EAAapE,GACbqE,EAAU,IACVC,EAAQ,MAqBN,cAAC,IAAD,IACCqB,GAAiB,cAAC,EAAD,IACjBD,GACC,cAAC,EAAD,CAAcjD,OAAQA,EAAQX,aAjBf,SAACD,GACpB6C,EAAgB7C,MAkBb4C,GACC,cAAClB,EAAD,CAAOC,WAhBM,WACjBkB,EAAgB,OAeZ,SACE,qBAAK3C,IAAK0C,EAAczC,IAAKhC,MAGhC0F,GAAa,cAAC,EAAD,CAAQrC,aA5BL,WACnBiB,GAAQ,SAACsB,GAAD,OAAcA,EAAW,YCzDrCC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFT,SAASU,eAAe,W","file":"static/js/main.2cb9cbf2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1COVO\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3HgAf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperLoader\":\"Loader_wrapperLoader__ChdQA\",\"Loader\":\"Loader_Loader__2oPV3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperButton\":\"Button_wrapperButton__4T4Vz\",\"Button\":\"Button_Button__3mJVw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2RaW4\",\"Modal\":\"Modal_Modal__flt-j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3Q93k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__cTs7-\",\"SearchForm\":\"Searchbar_SearchForm__To-YJ\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1nGck\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__zu3T7\",\"SearchFormInput\":\"Searchbar_SearchFormInput__eH8gU\"};","import axios from \"axios\";\n\nconst MY_API_KEY = \"15831772-a93111deddd9ec3e88224ce89\";\nconst BASE_URL = \"https://pixabay.com/api\";\nconst params = \"fields=id;webformatURL;largeImageURL\";\naxios.defaults.baseURL = BASE_URL;\n\nconst fetchImages = async (imageName, page) => {\n  const response = await axios.get(\n    `/?image_type=photo&orientation=horizontal&q=${imageName}&page=${page}&per_page=12&key=${MY_API_KEY}&${params}`\n  );\n  return response.data.hits;\n};\n\nexport default fetchImages;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Searchbar.module.css\";\n\nconst Searchbar = ({ onFormSubmit }) => {\n  return (\n    <div>\n      <header className={s.Searchbar}>\n        <form\n          onSubmit={(e) => {\n            e.preventDefault();\n            onFormSubmit(e.target.elements.imageName.value);\n          }}\n          className={s.SearchForm}\n        >\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            name=\"imageName\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    </div>\n  );\n};\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  onFormSubmit: PropTypes.func.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ imageSrc, tags, largeImageURL, onImageClick }) => {\n  return (\n    <>\n      <li className={s.ImageGalleryItem}>\n        <img\n          src={imageSrc}\n          alt={tags}\n          className={s.ImageGalleryItemImage}\n          onClick={(e) => {\n            onImageClick(largeImageURL);\n          }}\n        />\n      </li>\n    </>\n  );\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTipes = {\n  imageSrc: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  onImageClick: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport s from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, onImageClick }) => {\n  return (\n    <>\n      <ul className={s.ImageGallery}>\n        {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n          <ImageGalleryItem\n            key={id}\n            id={id}\n            imageSrc={webformatURL}\n            tags={tags}\n            largeImageURL={largeImageURL}\n            onImageClick={() => onImageClick(largeImageURL)}\n          />\n        ))}\n      </ul>\n    </>\n  );\n};\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onImageClick: PropTypes.func.isRequired,\n};\n","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport s from \"./Loader.module.css\";\n\nexport default function Spiner() {\n  return (\n    <div className={s.wrapperLoader}>\n      <Loader\n        type=\"Oval\"\n        color=\"#3f51b5\"\n        height={60}\n        width={60}\n        timeout={3000}\n        className={s.Loader}\n      />\n    </div>\n  );\n}\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ onLoadButton }) => {\n  return (\n    <div className={s.wrapperButton}>\n      <button type=\"button\" className={s.Button} onClick={() => onLoadButton()}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n\nButton.propTypes = {\n  onLoadButton: PropTypes.func.isRequired,\n};\n","import { useEffect } from \"react\";\n\nimport s from \"./Modal.module.css\";\n\nexport default function Modal({ closeModal, children }) {\n  const handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      closeModal();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  });\n\n  return (\n    <div\n      className={s.Overlay}\n      onClick={(e) => {\n        if (e.currentTarget === e.target) {\n          closeModal();\n        }\n      }}\n    >\n      <div className={s.Modal}>{children}</div>\n    </div>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport fetchImages from \"./services\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Spinner from \"./components/Loader\";\nimport Button from \"./components/Button\";\nimport Modal from \"./components/Modal\";\n\nfunction App() {\n  const [imageName, setImageName] = useState(null);\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [reqStatus, setReqStatus] = useState(\"idle\");\n  const [openImageUrl, setOpenImageUrl] = useState(null);\n\n  useEffect(() => {\n    if (imageName === null) {\n      return;\n    }\n\n    const notify = () =>\n      toast.error(\"No results were found for your search.\", {\n        duration: 3000,\n        position: \"top-right\",\n      });\n\n    async function getImages() {\n      try {\n        setReqStatus(\"loading\");\n\n        const fetchImagesArray = await fetchImages(imageName, page);\n\n        if (fetchImagesArray.length === 0) {\n          setReqStatus(\"idle\");\n          return notify();\n        }\n\n        setImages((prevState) => [...prevState, ...fetchImagesArray]);\n        setReqStatus(\"resolve\");\n\n        if (page > 1) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      } catch (error) {\n        notify();\n        setReqStatus(\"idle\");\n      }\n    }\n    getImages();\n  }, [imageName, page]);\n\n  const handleFormSubmit = (imageName) => {\n    setImageName(imageName);\n    setImages([]);\n    setPage(1);\n  };\n\n  const onLoadButton = () => {\n    setPage((prevPage) => prevPage + 1);\n  };\n\n  const onImageClick = (largeImageURL) => {\n    setOpenImageUrl(largeImageURL);\n  };\n\n  const closeModal = () => {\n    setOpenImageUrl(null);\n  };\n\n  const fillArray = images.length > 0;\n  const currentStatus = reqStatus === \"loading\";\n\n  return (\n    <div>\n      <Searchbar onFormSubmit={handleFormSubmit} />\n      <Toaster />\n      {currentStatus && <Spinner />}\n      {fillArray && (\n        <ImageGallery images={images} onImageClick={onImageClick} />\n      )}\n      {openImageUrl && (\n        <Modal closeModal={closeModal}>\n          <img src={openImageUrl} alt={imageName} />\n        </Modal>\n      )}\n      {fillArray && <Button onLoadButton={onLoadButton} />}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}